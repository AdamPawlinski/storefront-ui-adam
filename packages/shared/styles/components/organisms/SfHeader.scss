@import "../../helpers";
.sf-header-navigation-item {
  position: var(--header-navigation-item-position, relative);
  display: flex;
  flex: var(--header-navigation-item-flex, 0);
  @include for-desktop {
    --header-navigation-item-flex: 1;
    --header-navigation-item-position: static
  }
  &__content {
    position: var(--header-navigation-item-content-position, fixed);
    top: var(--header-navigation-item-content-position, 0);
    width: var(--header-navigation-item-content-width, 100%);
    z-index: var(--header-navigation-item-content-position, 2);
    --header-navigation-item-padding: 0;
  }
  &__link {
    --link-text-decoration: var(--header-navigation-item-text-decoration, none)
  }
  // & > &__menu-item{
  //   --menu-item-font-size: var(--font-size--base);
  //   --menu-item-font-weight: var(--font-weight--medium);
  //   --menu-item-text-transform: uppercase;
  //   display: flex;
  //   padding: var(--spacer-sm);
  //   margin: var(--header-navigation-item-menu-item-margin, 0);
  //   @include border(--header-navigation-item-menu-item-border, 0 0 1px 0, solid, var(--c-light));
  // }
  &:hover > *:not(.sf-mega-menu){
    --header-navigation-item-color: var(--c-primary);
    --header-navigation-item-border-color: var(--c-primary);
    &:active{
      --header-navigation-item-color: var(--c-primary);
    }
  }
  &.is-active:hover > *:not(.sf-mega-menu){
    --header-navigation-item-color: var(--c-primary);
  }
  &--not-stretched {
    --header-navigation-item-flex: 0
  }
  &__item {
    display: var(--header-navigation-item-display, flex);
    &--desktop {
      & > *:not(.sf-mega-menu) {
        --link-color: var(--header-navigation-item-color, var(--c-dark-variant));
        box-sizing: border-box;
        flex: 1;
        align-items: center;
        justify-content: center;
        padding: var(--header-navigation-item-padding, calc(var(--spacer-sm) - 1px) var(--spacer-sm));
        margin: var(--header-navigation-item-margin, 0);
        @include border(--header-navigation-item-border, 0 0 2px 0, solid, transparent);
        transition: var(--header-navigation-item-transition, border-color 150ms ease-in-out, color 150ms ease-in-out);
        color: var(--header-navigation-item-color, var(--c-dark-variant));
        @include font(
          --header-navigation-item-font,
          var(--font-weight--normal),
          var(--font-size--base),
          1.2,
          var(--font-family--secondary)
        );
        text-transform: uppercase;
        text-decoration: initial;
        text-align: center;
        @include for-desktop {
          padding: var(--header-navigation-item-padding, calc(var(--spacer-lg) - 1px) var(--spacer-sm));
          margin: var(--header-navigation-item-margin, 0);
        }
        &:focus {
          --header-navigation-item-color: var(--c-text);
          --header-navigation-item-border-color: var(--c-primary);
        }
      }
    }
    &--mobile {
      --header-navigation-item-padding: 0;
      --header-navigation-item-border: none;
      width: var(--header-navigation-item-width, 100%);
      & > .sf-header-navigation-item__menu-item{
        --menu-item-font-size: var(--font-size--base);
        --menu-item-font-weight: var(--font-weight--medium);
        --menu-item-text-transform: uppercase;
        display: var(--header-navigation-item-menu-item-display, flex);
        padding: var(--header-navigation-item-menu-item-padding, var(--spacer-sm));
        margin: var(--header-navigation-item-menu-item-margin, 0);
        @include border(--header-navigation-item-menu-item-border, 0 0 1px 0, solid, var(--c-light));
      }
    }
  }
  
}
.sf-header {  
  z-index: 1;
  width: 100%;
  background: #ffffff;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  padding: 0 var(--spacer-sm);
  max-width: 77.5rem;
  margin: 0 auto;
  @include for-desktop {
    flex-wrap: nowrap;
  }
  &__logo {    
    flex: 0 0 auto;
    margin: var(--spacer-xs) 0;
    z-index: 1;
    .sf-image {
      width: auto;
      height: 2.125rem;
    }
  }
  &__title {
    margin: var(--spacer-xs) 0;
  }
  &__aside:not(:empty) {
    margin: 0 0 0 auto;
  }
  &__actions {
    flex: 100%;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-end;
    @include for-desktop {
      flex-wrap: nowrap;
    }
  }
  &__navigation {
    --sidebar-top: auto;
    --sidebar-bottom: auto;
    display: flex;
    order: 1;    
    flex: 0 0 100%;
    // margin: 0 calc(var(--spacer-sm) * -1);
    @include for-desktop {
      margin: 0 auto 0 var(--spacer-xl);
      order: 0;
      flex: 0 0 auto;
    }
    // &.is-visible {
    //   display: flex;
    //   .sf-link {
    //     text-decoration: none;
    //   }      
    //   @include for-mobile {
    //     flex-direction: column;      
    //   }
    // }
  }
  &__menu {    
    &--sidebar {
      padding: 0;
      display: flex;
      @include for-desktop {
        display: none;
      }
      .sf-sidebar__content {
        --sidebar-content-padding: 0, var(--spacer-sm);
        height: auto; 
      }
    }    
    @include for-desktop {
      display: flex;
    }
  }
  &__menu-item {
    display: flex;
    box-sizing: border-box;
    flex: 1;
    align-items: center;
    justify-content: center;
    padding: calc(var(--spacer-sm) - 1px) var(--spacer-sm);
    margin: 0;    
    text-decoration: none;   
    --menu-item-font-weight: var(--font-weight--medium); 
    @include border(--header-menu-item-border, 0 0 2px 0, solid, transparent);
    transition: border-color 150ms ease-in-out, color 150ms ease-in-out;
    color: var(--c-dark-variant);
    text-transform: uppercase;
    text-decoration: initial;
    &--desktop {
      padding: calc(var(--spacer-lg) - 1px) var(--spacer-sm);
      margin: 0;
      --button-font-weight: var(--font-weight--normal); 
      &:focus {     
        border-color: var(--c-primary);
      } 
      &:hover {
        color: var(--c-primary);
        border-color: var(--c-primary);
      }    
    }
    &--mobile {
      --header-menu-item-border: 0 0 2px 0, solid, var(--c-light); 
      --menu-item-icon-margin: 0 var(--spacer-lg) 0 0;
      padding: var(--spacer-sm);
      width: 100%; 
    }             
  }
  &__menu-content {
    @include font(
      --header-navigation-item-font,
      var(--font-weight--medium),
      var(--font-size--base),
      1.2,
      var(--font-family--secondary)
    );    
  }
  &__search {
    display: none;
    flex: flex, 0 0 100%;
    margin: var(--spacer-xs) 0;
    order: 0;
    @include for-desktop {
      display: flex;
      flex: 0 1 19.875rem;
    }
  }
  &__icons {
    display: none;
    @include for-desktop {
      display: flex;
      margin:  var(--spacer-sm) 0;
    }
  }
  &__icon {
    --icon-color: var(--c-dark-variant);
    &:hover {
      --icon-color: var(--c-text);
      filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
    }
    &.is-active {
      --icon-color: var(--c-primary);
    }
  }
  &__action {
    margin: 0 0 0 var(--spacer-xl);
  }
  &-height {
    box-sizing: border-box;
  }
  &.is-sticky {
    position: fixed;
  }
  &--has-mobile-search  {
    & .sf-header__search {
      display: flex;
      width: 100%;
    }
    @include for-desktop {
      box-shadow: none;
    }
  }
  &--multiline {
    @include for-desktop {
      .sf-header__icons {
        margin: var(--spacer-sm) 0 var(--spacer-sm) 100%;
        order: -1;
      }
      .sf-header__actions {
        flex-wrap: wrap;
      }
      .sf-header-navigation-item  {
        padding: calc(var(--spacer-sm) - 1px) var(--spacer-sm);
      }
    } 
  }
}